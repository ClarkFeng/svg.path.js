(function(){SVG.extend(SVG.Path,{M:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);this.addSegment("M",e,false);if(this._segments.length===1){return this.plot("M"+e[0]+" "+e[1])}return this},m:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);this.addSegment("m",e,false);if(this._segments.length===1){return this.plot("m"+e[0]+" "+e[1])}return this},L:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);return this.addSegment("L",e,this._redrawEnabled)},l:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);return this.addSegment("l",e,this._redrawEnabled)},H:function(e){return this.addSegment("H",[e],this._redrawEnabled)},h:function(e){return this.addSegment("h",[e],this._redrawEnabled)},V:function(e){return this.addSegment("V",[e],this._redrawEnabled)},v:function(e){return this.addSegment("v",[e],this._redrawEnabled)},C:function(e,t,n){n=arguments.length===3?[e.x,e.y,t.x,t.y,n.x,n.y]:Array.prototype.slice.call(arguments);return this.addSegment("C",n,this._redrawEnabled)},c:function(e,t,n){n=arguments.length===3?[e.x,e.y,t.x,t.y,n.x,n.y]:Array.prototype.slice.call(arguments);return this.addSegment("c",n,this._redrawEnabled)},S:function(e,t){t=arguments.length===2?[e.x,e.y,t.x,t.y]:Array.prototype.slice.call(arguments);return this.addSegment("S",t,this._redrawEnabled)},s:function(e,t){t=arguments.length===2?[e.x,e.y,t.x,t.y]:Array.prototype.slice.call(arguments);return this.addSegment("s",t,this._redrawEnabled)},Q:function(e,t){t=arguments.length===2?[e.x,e.y,t.x,t.y]:Array.prototype.slice.call(arguments);return this.addSegment("Q",t,this._redrawEnabled);var n=", S"+p2.x+" "+p2.x+", "+t.x+" "+t.y;return this.attr("d",this.attr("d")+n)},q:function(e,t){t=arguments.length===2?[e.x,e.y,t.x,t.y]:Array.prototype.slice.call(arguments);return this.addSegment("q",t,this._redrawEnabled)},T:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);return this.addSegment("T",e,this._redrawEnabled)},t:function(e){e=arguments.length===1?[e.x,e.y]:Array.prototype.slice.call(arguments);return this.addSegment("t",e,this._redrawEnabled)},A:function(e,t,n,r,i,s){s=arguments.length===6?[e,t,n,r,i,s.x,s.y]:Array.prototype.slice.call(arguments);return this.addSegment("A",s,this._redrawEnabled)},a:function(e,t,n,r,i,s){s=arguments.length===6?[e,t,n,r,i,s.x,s.y]:Array.prototype.slice.call(arguments);return this.addSegment("a",s,this._redrawEnabled)},Z:function(){return this.addSegment("Z",[],this._redrawEnabled)},addSegment:function(e,t,n){var r={type:e,coords:t};if(!this._segments){this._segments=[]}this._segments.push(r);if(n!==false){this._drawSegment(r)}return this},clear:function(){if(this._segments){this._segments.length=0}this._lastSegment=null;return this.plot()},getSegmentCount:function(){return this._segments.lenght},getSegment:function(e){return this._segments[e]},removeSegment:function(e){this._segments.splice(e,1);return this.redraw()},replaceSegment:function(e,t){this._segments.splice(e,1,t);return this.redraw()},redraw:function(){this._lastSegment=null;this.attr("d","");return this._drawSegment(this._segments)},_drawSegment:function(e){var t="",n=this._lastSegment;if(!Array.isArray(e)){e=[e]}for(var r=0;r<e.length;r+=1){if(n===e[r].type){t+=" "+e[r].coords.join(" ")}else{t+=" "+e[r].type+e[r].coords.join(" ")}n=e[r].type}this._lastSegment=n;return this.attr("d",this.attr("d")+t)},line:function(e,t){var n=networkMap.Point;if(t&&t.reset){this.M(new n(e.p1.x,e.p1.y))}else{this.L(new n(e.p1.x,e.p1.y))}this.L(new n(e.p2.x,e.p2.y));return this}})}).call(this)